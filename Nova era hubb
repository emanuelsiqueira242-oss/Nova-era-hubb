--=====================================================
-- NOVA ERA HUB | LOGGER DISCORD (FIX)
--=====================================================

if not game:IsLoaded() then game.Loaded:Wait() end

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")

local lp = Players.LocalPlayer

-- Prote√ß√£o contra execu√ß√£o dupla
if getgenv().NovaEraLogged then return end
getgenv().NovaEraLogged = true

-- WEBHOOK
local WEBHOOK_URL = "https://discord.com/api/webhooks/1454599557416616017/13w-FKs234OFwrp9eeEK5SpiIHvb1BzfPEA11jrCSenJdso99XKdEI2joCRKgSXiz_Gf"

-- Detectar request
local requestFunc =
    request or http_request or syn and syn.request or fluxus and fluxus.request

if not requestFunc then
    warn("[NOVA ERA HUB] Executor sem suporte a request")
    return
end

-- Dispositivo
local device = "Desconhecido"
if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
    device = "üì± Mobile"
elseif UserInputService.KeyboardEnabled then
    device = "üíª PC"
elseif UserInputService.GamepadEnabled then
    device = "üéÆ Console"
end

-- Executor
local executor = "Desconhecido"
pcall(function()
    if identifyexecutor then
        executor = identifyexecutor()
    elseif getexecutorname then
        executor = getexecutorname()
    end
end)

-- Nome do jogo (SAFE)
local gameName = "Desconhecido"
pcall(function()
    gameName = MarketplaceService:GetProductInfo(game.PlaceId).Name
end)

-- Payload
local payload = {
    username = "NOVA ERA HUB LOGGER",
    embeds = {{
        title = "üöÄ Nova Execu√ß√£o Detectada",
        color = 65280,
        fields = {
            { name = "üë§ Jogador", value = lp.Name, inline = true },
            { name = "üÜî UserId", value = tostring(lp.UserId), inline = true },
            { name = "üéÆ Jogo", value = gameName, inline = false },
            { name = "üåç JobId", value = game.JobId, inline = false },
            { name = "üì± Dispositivo", value = device, inline = true },
            { name = "üß† Executor", value = executor, inline = true }
        },
        footer = {
            text = "Nova Era Hub ‚Ä¢ " .. os.date("%d/%m/%Y %H:%M:%S")
        }
    }}
}

-- Enviar
requestFunc({
    Url = WEBHOOK_URL,
    Method = "POST",
    Headers = {
        ["Content-Type"] = "application/json"
    },
    Body = HttpService:JSONEncode(payload)
})

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/refs/heads/main/source')))()

local Window = OrionLib:MakeWindow({Name = "NOVA ERA HUB", HidePremium = false, SaveConfig = true, ConfigFolder = "Orion"})

-- Vari√É∆í√Ç¬°veis de controle
local teleporting = false
local flingEnabled = false
local viewEnabled = false
local selectedPlayer = nil
local flingSpeed = 700  -- Aumentando a velocidade para um Fling mais forte

-- Fun√É∆í√Ç¬ß√É∆í√Ç¬£o para teleporte cont√É∆í√Ç¬≠nuo
local function startTeleport()
    teleporting = true
    while teleporting do
        task.wait(0.10)

        local targetCharacter = selectedPlayer.Character
        if not targetCharacter then
            teleporting = false
            OrionLib:MakeNotification({
                Name = "Erro",
                Content = "Jogador inv√É∆í√Ç¬°lido ou n√É∆í√Ç¬£o carregado!",
                Time = 5
            })
            return
        end

        local targetHRP = targetCharacter:FindFirstChild("HumanoidRootPart")
        if not targetHRP then
            teleporting = false
            OrionLib:MakeNotification({
                Name = "Erro",
                Content = "HumanoidRootPart n√É∆í√Ç¬£o encontrado!",
                Time = 3
            })
            return
        end

        -- Teleporte cont√É∆í√Ç¬≠nuo
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = targetHRP.CFrame

        -- Aplica Fling mais forte se estiver ativado
        if flingEnabled then
            game.Players.LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(
                math.random(-flingSpeed, flingSpeed), 
                flingSpeed * 2,  -- Dando um impulso mais forte no eixo Y
                math.random(-flingSpeed, flingSpeed)
            )
            game.Players.LocalPlayer.Character.HumanoidRootPart.RotVelocity = Vector3.new(flingSpeed * 1.5, flingSpeed * 1.5, flingSpeed * 1.5)  -- Maior rota√É∆í√Ç¬ß√É∆í√Ç¬£o
        end
    end
end

-- Fun√É∆í√Ç¬ß√É∆í√Ç¬£o para parar o teleporte
local function stopTeleport()
    teleporting = false
end

-- Fun√É∆í√Ç¬ß√É∆í√Ç¬£o para atualizar a lista de jogadores
local function updatePlayerList()
    local playerNames = {}
    for _, player in ipairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            table.insert(playerNames, player.Name)
        end
    end
    return playerNames
end

-- Fun√É∆í√Ç¬ß√É∆í√Ç¬£o para ativar/desativar o View
local function enableView(targetPlayer)
    if not targetPlayer or not targetPlayer.Character then return end

    local camera = workspace.CurrentCamera
    camera.CameraSubject = targetPlayer.Character:FindFirstChild("Humanoid") or targetPlayer.Character
    camera.CameraType = Enum.CameraType.Custom
end

local function disableView()
    local camera = workspace.CurrentCamera
    camera.CameraSubject = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
    camera.CameraType = Enum.CameraType.Custom
end

-- Reconectar View ap√É∆í√Ç¬≥s morte
game.Players.LocalPlayer.CharacterAdded:Connect(function()
    if viewEnabled and selectedPlayer then
        enableView(selectedPlayer)
    end
end)

-- Criar a aba "Troll"
local FlingTab = Window:MakeTab({
    Name = "Fling",
    Icon = "rbxassetid://109334249980199",
    PremiumOnly = false
})
-- Dropdown de Sele√É∆í√Ç¬ß√É∆í√Ç¬£o de Jogador
local dropdown = FlingTab:AddDropdown({
    Name = "Selecionar Jogador",
    Default = "",
    Options = updatePlayerList(),
    Callback = function(value)
        selectedPlayer = game.Players:FindFirstChild(value)
    end
})

-- Atualizar lista de jogadores
FlingTab:AddButton({
    Name = "Atualizar lista",
    Callback = function()
        dropdown:Refresh(updatePlayerList(), true)
        OrionLib:MakeNotification({
            Name = "Lista Atualizada",
            Content = "Jogadores atualizados com sucesso!",
            Time = 3
        })
    end
})

-- Alternador para Iniciar/Parar o Fling
FlingTab:AddToggle({
    Name = "fling potente (faz ate o jogador ser kickado)",
    Default = false,
    Callback = function(value)
        flingEnabled = value
        if flingEnabled then
            startTeleport()
        else
            stopTeleport()
        end
    end
})

-- Alternador para Ativar/Desativar o View
FlingTab:AddToggle({
    Name = "View",
    Default = false,
    Callback = function(value)
        viewEnabled = value
        if viewEnabled then
            enableView(selectedPlayer)
        else
            disableView()
        end
    end
})local Tab = Window:MakeTab({
    Name = "House",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local a = 0

Tab:AddTextbox({
    Name = "Numero",
    Default = "11",
    TextDisappear = true,
    Callback = function(Value)
        a = tonumber(Value) or 0  -- Converte o valor para n√É∆í√Ç¬∫mero ou define como 0 se n√É∆í√Ç¬£o for um n√É∆í√Ç¬∫mero v√É∆í√Ç¬°lido
    end      
})

Tab:AddButton({
    Name = "pegar permiss√£o",
    Callback = function()
        local args = {
            "GivePermissionLoopToServer",
            game.Players.LocalPlayer,
            a
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end    
})local Tab = Window:MakeTab({
	Name = "outros scripts",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

--[[
Name = <string> - The name of the tab.
Icon = <string> - The icon of the tab.
PremiumOnly = <bool> - Makes the tab accessible to Sirus Premium users only.
]]

Tab:AddButton({
	Name = "infinite",
	Callback = function()
	loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
      		print("button pressed")
  	end    
})

--[[
Name = <string> - The name of the button.
Callback = <function> - The function of the button.
]]

Tab:AddButton({
	Name = "Rael hub",
	Callback = function()
	loadstring(game:HttpGet("https://rawscripts.net/raw/The-Mimic-Rael-Hub-20921"))()
      		print("button pressed")
  	end    
})
Tab:AddButton({
	Name = "fly v3",
	Callback = function()
	loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Fly-v3-7412"))()
      		print("button pressed")
  	end    
})Tab:AddButton({
	Name = "ghost hub",
	Callback = function()
loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Ghost-Hub-27383"))()	
      		print("button pressed")
  	end 
})local Tab = Window:MakeTab({
	Name = "TOOLS",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})Tab:AddButton({
	Name = "AUDIO ALL",
	Callback = function()
	-- Criando a GUI principal
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Enabled = false -- Inicialmente o Frame estar√É∆í√Ü‚Äô√É‚Äö√Ç¬° invis√É∆í√Ü‚Äô√É‚Äö√Ç¬≠vel

-- Criando o frame
local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.Size = UDim2.Frame.Size = UDim2.new(0, 300, 0, 200)Dim2.new(0.5, -200, 0.5, -100)
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.BackgroundColor3 = Color4.new(0, 0, 0)
Frame.BackgroundTransparency = 0.7
Frame.BorderSizePixel = 1

-- Adicionando cantos arredondados ao Frame
local UICornerFrame = Instance.new("UICorner")
UICornerFrame.Parent = Frame
UICornerFrame.CornerRadius = UDim.new(0, 18)

-- Criando o texto explicativo
local Label = Instance.new("TextLabel")
Label.Parent = Frame
Label.Size = UDim2.new(1, 0, 0.4, 0)
Label.Position = UDim2.new(0, 0, 0, 0)
Label.Text = "Put iLabel.Text = "coloque o id do som para ser tocado (precisa estar com o taser na mao)" true
Label.TextColor3 = Color3.new(1, 1, 1)
Label.BackgroundTransparency = 1
Label.Font = Enum.Font.SciFi

-- Criando a TextBox
local TextBox = Instance.new("TextBox")
TextBox.Parent = Frame
TextBox.Size = UDim2.new(0.8, 0, 0.2, 0)
TextBox.Position = UDim2.new(0.1, 0, 0.5, 0)
TextBox.PlaceholderText = "Enter ID"
TextBox.Text = ""
TextBox.TextScaled = true
TextBox.TextColor3 = Color3.new(1, 1, 1)
TextBox.BackgroundColor3 = Color3.new(0, 0, 0)
TextBox.Font = Enum.Font.SciFi
TextBox.BorderSizePixel = 0

-- Adicionando cantos arredondados √É∆í√Ü‚Äô  TextBox
local UICornerTextBox = Instance.new("UICorner")
UICornerTextBox.Parent = TextBox
UICornerTextBox.CornerRadius = UDim.new(0, 8)

-- Criando o bot√É∆í√Ü‚Äô√É‚Äö√Ç¬£o
local Button = Instance.new("TextButton")
Button.Parent = Frame
Button.Size = UDim2.new(0.4, 0, 0.2, 0)
Button.Position = UDim2.new(0.3, 0, 0.75, 0)
Button.Text = "Play"
Button.TextScaled = true
Button.TextColor3 = Color3.new(1, 1, 1)
Button.BackgroundColor3 = Color3.new(0, 0, 0)
Button.Font = Enum.Font.SciFi
Button.BorderSizePixel = 0

-- Adicionando cantos arredondados ao bot√É∆í√Ü‚Äô√É‚Äö√Ç¬£o
local UICornerButton = Instance.new("UICorner")
UICornerButton.Parent = Button
UICornerButton.CornerRadius = UDim.new(0, 9)

-- Vari√É∆í√Ü‚Äô√É‚Äö√Ç¬°vel para armazenar o som em reprodu√É∆í√Ü‚Äô√É‚Äö√Ç¬ß√É∆í√Ü‚Äô√É‚Äö√Ç¬£o
local currentSound

-- Fun√É∆í√Ü‚Äô√É‚Äö√Ç¬ß√É∆í√Ü‚Äô√É‚Äö√Ç¬£o para tocar o som localmente
local function playSoundLocally(audioID)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("Head") then
        -- Verifica se j√É∆í√Ü‚Äô√É‚Äö√Ç¬° h√É∆í√Ü‚Äô√É‚Äö√Ç¬° um som sendo tocado e o interrompe
        if currentSound then
            currentSound:Stop()
            currentSound:Destroy()
            currentSound = nil
        end

        -- Cria e toca um novo som
        currentSound = Instance.new("Sound")
        currentSound.Parent = character.Head
        currentSound.SoundId = "rbxassetid://" .. audioID
        currentSound.Volume = 10000000
        currentSound:Play()

        -- Parar o som ap√É∆í√Ü‚Äô√É‚Äö√Ç¬≥s 50 segundos
        task.delay(20, function()
            if currentSound then
                currentSound:Stop()
                currentSound:Destroy()
                currentSound = nil
            end
        end)

        currentSound.Ended:Connect(function()
            if currentSound then
                currentSound:Destroy()
                currentSound = nil
            end
        end)
    else
        warn("N√É∆í√Ü‚Äô√É‚Äö√Ç¬£o foi poss√É∆í√Ü‚Äô√É‚Äö√Ç¬≠vel encontrar a cabe√É∆í√Ü‚Äô√É‚Äö√Ç¬ßa do personagem para tocar o som!")
    end
end

-- Fun√É∆í√Ü‚Äô√É‚Äö√Ç¬ß√É∆í√Ü‚Äô√É‚Äö√Ç¬£o para enviar o √É∆í√Ü‚Äô√É‚Äö√Ç¬°udio com o ID
Button.MouseButton1Click:Connect(function()
    local audioID = tonumber(TextBox.Text)
    if audioID then
        -- Envia o som para o servidor inteiro
        local args = {
            [1] = game:GetService("Players").LocalPlayer.Character.Taser.Handle,
            [2] = audioID,
            [3] = 10.99
        }
        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Gu1nSound1s"):FireServer(unpack(args))

        -- Toca o som localmente
        playSoundLocally(audioID)
    else
        warn("COLOQUE UM ID VALIDO!!!")
    end
end)

-- Fun√É∆í√Ü‚Äô√É‚Äö√Ç¬ß√É∆í√Ü‚Äô√É‚Äö√Ç¬£o para verificar o item "Taser" e controlar o Frame
local function checkForTaser()
    local taserDetected = false

    while true do
        local character = game.Players.LocalPlayer.Character
        local taser = character and character:FindFirstChild("Taser")

        if taser then
            if not taserDetected then
                taserDetected = true
                ScreenGui.Enabled = true

                -- Modificar a "GripPos" do "Taser"
                taser.GripPos = Vector3.new(0, 0, -2)

                -- Executa o c√É∆í√Ü‚Äô√É‚Äö√Ç¬≥digo de "wear" ao equipar o Taser
                local args = {
                    [1] = "wear",
                    [2] = 18756289999
                }
                game:GetService("ReplicatedStorage").RE:FindFirstChild("1Updat1eAvata1r"):FireServer(unpack(args))
            end
        elseif taserDetected then
            taserDetected = false
            ScreenGui.Enabled = false

            -- Executa o c√É∆í√Ü‚Äô√É‚Äö√Ç¬≥digo de "wear" novamente quando o Taser for desequipado
            local args = {
                [1] = "wear",
                [2] = 18756289999
            }
            game:GetService("ReplicatedStorage").RE:FindFirstChild("1Updat1eAvata1r"):FireServer(unpack(args))

            -- Interrompe o som se o Taser for retirado
            if currentSound then
                currentSound:Stop()
                currentSound:Destroy()
                currentSound = nil
            end
        end

        wait(0.1) -- Verifica a cada 0.1 segundos
    end
end

-- Inicia a verifica√É∆í√Ü‚Äô√É‚Äö√Ç¬ß√É∆í√Ü‚Äô√É‚Äö√Ç¬£o do item em paralelo
spawn(checkForTaser)

-- Ativando a GUI automaticamente
ScreenGui.Enabled = true
      		print("button pressed")
      end    
})local Tab = Window:MakeTab({
	Name = "tool",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

--[[
Name = <string> - The name of the tab.
Icon = <string> - The icon of the tab.
PremiumOnly = <bool> - Makes the tab accessible to Sirus Premium users only.
]]

Tab:AddButton({
	Name = "Taser",
	Callback = function()
	local args = {
    [1] = "PickingTools",
    [2] = "Taser"
}
 
 Tab:AddButton({
	Name = "Couch",
	Callback = function()
	local args = {
    [1] = "PickingTools",
    [2] = "Couch"
}

game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))
      		print("button pressed")
  	end    
})
game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))
      		print("button pressed")
  	end    
})
Tab:AddButton({
	Name = "telekinese",
	Callback = function()
	local args = {
    [1] = "PickingTools",
    [2] = "telekinese"
}
game:GetService("ReplicatedStorage").RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))
      		print("button pressed")
  	end    
})

OrionLib:Init()
